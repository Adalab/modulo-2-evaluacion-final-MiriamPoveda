"use strict";const searchButton=document.querySelector(".js_search"),searchInput=document.querySelector(".js_searchInput"),searchReset=document.querySelector(".js_searchReset"),listCocktails=document.querySelector(".js_listCocktails"),favCocktails=document.querySelector(".js_favCocktails"),textHidden=document.querySelector(".js_textHidden"),buttonFav=document.querySelector(".js_buttonFav");let cocktailData=[],favData=[],classFav="",classNormal="";function clickFav(t){const a=t.currentTarget.id,e=cocktailData.find(t=>t.idDrink===a);-1===favData.findIndex(t=>t.idDrink===a)?favData.push(e):favData.splice(e,1),paintCocktails(),paintFavorites(),addLocal()}function paintFavorites(){let t="";for(const a of favData){const e=favData.findIndex(t=>t.idDrink==t.idDrink);classFav=-1!==e?"favorites":"",t+=`<li class="js_favLi ${classFav}" id=${a.idDrink}>`,t+=`<button class="js_buttonX ${a.idDrink}">X</button>`,t+=`<h3 class="textFav">${a.strDrink}</h3>`,null===a.strDrinkThumb?t+='<img class="listsMain__img" src="https://img.freepik.com/vector-gratis/coctel-dibujo-mano-rodaja-limon-romero_218179-270.jpg?w=100" />':t+=`<img class="listsMain__img" src="${a.strDrinkThumb}" width="100"/>`,t+="</li>"}favCocktails.innerHTML=t,resetFav()}function selectCocktails(){const t=document.querySelectorAll(".js_favLi");for(const a of t)a.addEventListener("click",clickFav)}function paintCocktails(){let t="";for(const a of cocktailData){-1!==favData.findIndex(t=>t.idDrink===a.idDrink)?(classFav="favorites",classNormal=""):(classFav="",classNormal="listsMain__list"),t+=`<li class="${classNormal} js_favLi ${classFav}" id=${a.idDrink}>`,t+=`<h3>${a.strDrink}</h3>`,null===a.strDrinkThumb?t+='<img class="listsMain__img" src="https://img.freepik.com/vector-gratis/coctel-dibujo-mano-rodaja-limon-romero_218179-270.jpg?w=100"/>':t+=`<img class="listsMain__img" src="${a.strDrinkThumb}" width="100"/>`,t+="</li>"}listCocktails.innerHTML=t,selectCocktails()}function resetSearch(){searchInput.value="",listCocktails.innerHTML="",textHidden.classList.remove("hidden")}function clickResetFav(t){const a=t.currentTarget.id,e=cocktailData.find(t=>t.idDrink===a);-1!==favData.findIndex(t=>t.idDrink===a)&&favData.splice(e),paintCocktails(),paintFavorites(),addLocal()}function resetFav(){const t=document.querySelectorAll(".js_buttonX");for(const a of t)a.addEventListener("click",clickResetFav)}function resetClickFav(){favCocktails.innerHTML="",favData.length>=1&&localStorage.removeItem("favData");const t=document.querySelectorAll(".js_favLi");if(t.length>0)for(let a=0;a<t.length;a++)t[a].classList.remove("favorites"),t[a].classList.add("listsMain__list")}function hiddenText(){textHidden.classList.add("hidden"),listCocktails.classList.remove("hidden")}function addLocal(){const t=JSON.stringify(favData);localStorage.setItem("favData",t)}function showLocal(){const t=localStorage.getItem("favData");if(null!==t){const a=JSON.parse(t);favData=a,paintFavorites()}}function getApi(){const t=searchInput.value;fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+t).then(t=>t.json()).then(t=>{cocktailData=t.drinks,paintCocktails()})}function handleClickSearch(t){t.preventDefault(),getApi(),hiddenText()}function handleClickReset(t){t.preventDefault(),resetSearch()}function handleResetFav(t){t.preventDefault(),resetClickFav()}searchButton.addEventListener("click",handleClickSearch),searchReset.addEventListener("click",handleClickReset),buttonFav.addEventListener("click",handleResetFav),showLocal();